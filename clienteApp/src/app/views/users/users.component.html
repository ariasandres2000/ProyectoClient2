<h1>Users</h1>

  <div class="container" *ngIf="isFormVisible">
    <div class="row">
       <div class="col-lg-12 text-center" style="padding-top: 20px;">
          <div class="container box" style="margin-top: 10px; padding-left: 0px; padding-right: 0px;">
             <div class="row">
                <div class="col-12" style="text-align: center;">
                    <form [formGroup]="formData" (ngSubmit)="save(formData.value)" class="form">
                      <div *ngIf="!isEdit">
                          <h2 class="form-signin-heading">Register</h2>
                        </div>
                        <div *ngIf="isEdit">
                          <h2 class="form-signin-heading">Actualizar</h2>
                        </div> 
                        <label igxLabel for="nombre" class="sr-only">Name</label>
                        <input type="text" igxInput id="nombre" name="nombre" class="form-control" formControlName="nombre" placeholder="Name" required autofocus>
                        <label for="apellido" class="sr-only">LastName</label>
                        <input type="text" id="apellido" name="apellido" class="form-control" formControlName="apellido" placeholder="LastName" required>
                        <div class="form-group">
                            <label for="type" class="sr-only">Type</label>
                            <select id="type" name="type" class="form-control" type="text" placeholder="Type" formControlName="tipo">
                                <option value="A">Administrator</option>
                                <option value="U">Normal</option>
                            </select> 
                        </div>
                        <label for="correo" class="sr-only">E-mail</label>
                        <input *ngIf="!isEdit" type="email" id="correo" name="correo" class="form-control" formControlName="correo" placeholder="E-mail" required>
                        <label for="inputPassword" class="sr-only">Password</label>
                        <input type="password" id="password" name="password" class="form-control" formControlName="contrasena" placeholder="Password" required>
                        <label for="confPassword" class="sr-only">Confirm Password</label>
                        <input type="password" id="confPassword" name="confPassword" class="form-control" formControlName="contrasenaConf" placeholder="Confirm Password" required>
                        <button class="btn btn-warning mr-2" (click)="isFormVisible=false; isEdit = false;">Cancelar</button>
                        <button class="btn btn-primary" type="submit">Save</button>
                    </form>
                </div>
             </div>
          </div>
       </div>
    </div>
    <br>
</div>

<table class='table table-striped mt-2'>
    <thead>
      <tr>
        <th>Id</th>
        <th>Nombre</th>
        <th>Tipo</th>
        <th>Imagen</th>
        <th>Valor</th>
        <th>Etiqueta</th>
        <th class="text-center">
          <button (click)="isFormVisible=true" class="btn btn-success">Add User</button>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.id_usuario }}</td>
        <td>{{ user.nombre}}</td>
        <td>{{ user.apellido}}</td>
        <td>{{ user.correo}}</td>
        <td>{{ user.contrasena}}</td>
        <td>{{ user.tipo}}</td>
        <td>
            <div>
                <button class="btn btn-warning mr-2" (click)="edit(user)">Edit</button>
                <button class="btn btn-danger" (click)="deleteU(user)">Delete</button>
            </div>        
        </td>        
        <td></td>
    </tr>
    </tbody>
</table>
